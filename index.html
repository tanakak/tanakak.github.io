<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>田中勝也研究室 – データ分析×持続可能な都市＠滋賀大学</title>
  <meta name="description" content="滋賀大学 田中勝也研究室：災害レジリエンス、グリーンインフラ、スマートモビリティ、地域活性化に関するデータ分析。">
  
  <style>
    /* ---- Base typography & layout ---- */
    :root{
      --font-body: "Noto Sans JP", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Hiragino Kaku Gothic ProN", "Yu Gothic UI", "Yu Gothic", "Meiryo", sans-serif;
      --font-head: "Noto Sans JP", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Hiragino Kaku Gothic ProN", "Yu Gothic UI", "Yu Gothic", "Meiryo", sans-serif;
      --text: #111;
      --muted: #666;
      --link: #0366d6;
      --rule: #eee;
      --accent: #0aa77f;
      --maxw: 880px;
    }
    html { font-size: 16px; }
    body{
      font-family: var(--font-body);
      color: var(--text);
      line-height: 1.8;
      margin:0;
      letter-spacing: 0.01em;
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
      background: #fff;
    }
    header, nav, main, footer{max-width: var(--maxw); margin: 0 auto; padding: 0 16px;}
    header{padding-top:24px; padding-bottom:8px;}

    /* ---- Brand / Title ---- */
    .brand{
      font-family: var(--font-head);
      font-weight: 800;
      margin:0;
      letter-spacing: 0.02em;
      line-height: 1.35;
      font-size: clamp(1.6rem, 1.8vw + 1.2rem, 2.4rem);
    }

    /* ---- Navigation ---- */
    nav{
      display:flex; flex-wrap:wrap; gap: 12px;
      padding: 10px 16px 14px 16px;
      border-bottom:1px solid var(--rule);
    }
    nav a{
      color: var(--link);
      text-decoration:none;
      font-weight: 600;
      font-size: 0.98rem;
      padding: 4px 0;
    }
    nav a:hover{text-decoration:underline}

    /* ---- Headings ---- */
    h2, h3 { font-family: var(--font-head); line-height: 1.45; margin: 1.4rem 0 .8rem; }
    h2{
      font-weight: 700;
      font-size: clamp(1.35rem, 1.0vw + 1.0rem, 1.8rem);
      border-left: 6px solid var(--accent);
      padding-left: 10px;
    }
    h3{ font-weight:700; font-size: 1.15rem; color: var(--muted); }

    /* ---- Text & lists ---- */
    p, li { font-size: 1rem; }
    ul, ol { padding-left: 1.25rem; }
    li{ margin-bottom: .35rem; }
    .muted{ color: var(--muted); }

    /* ---- Grid for main/aside ---- */
    .grid{ display:grid; grid-template-columns: 1fr; gap: 20px; }
    @media (min-width: 860px){
      .grid{ grid-template-columns: 2fr 1fr; }
    }

    /* ---- Sections & footer ---- */
    section { margin: 2.0rem 0; }
    footer{
      margin-top: 3rem; padding-top: 1rem; padding-bottom:2rem;
      border-top:1px solid var(--rule);
      font-size:.95rem; color: var(--muted);
    }

    /* ---- Blog feed items ---- */
    .pubs li{ margin-bottom:.45rem }
    #rss-feed ul{ list-style: none; padding-left: 0; }
    #rss-feed li{ margin: .6rem 0; }
    #rss-feed .date{ font-weight:700; }
  </style>

</head>
<body>
  <header>
    <p class="brand">田中勝也研究室 – データサイエンス × 持続可能な都市＠滋賀大学</p>
  </header>

  <nav>
    <a href="index.html">ホーム</a>
    <a href="members.html">メンバー</a>
    <a href="pub.html">研究業績</a>
    <a href="funding.html">外部資金</a>
    <a href="lec">講義</a>
    <a href="https://note.com/tanakak_lab" target="_blank" rel="noopener">研究室ブログ</a>
    <a href="fs.html">FactorialSurvey</a>
    <a href="en.html">English</a>
  </nav>

  <main>
    <section id="about">
      <h2>研究紹介</h2>
      <p><strong>田中 勝也</strong><br>
         滋賀大学 経済学部 / 環境総合研究センター / データサイエンス・AI研究推進センター 教授<br>
         米国ポートランド州立大学 グローバルシニアフェロー<br>
         韓国梨花女子大学 グローバルフェロー
      </p>
      <p>本研究室では、持続可能な都市環境の実現に向けたデータ分析を推進しています。重点トピックは以下の4点です。</p>
      <ol>
        <li><strong>災害への備えと都市のレジリエンス</strong></li>
        <li><strong>グリーンインフラ</strong>による防災と温暖化適応策</li>
        <li><strong>スマートモビリティ</strong>（歩車共存、公共交通＋自転車、ライドシェア）</li>
        <li><strong>上記3項目を通じた地域活性化</strong></li>
      </ol>
      <p>これらのテーマに関心のある学部生・大学院生を歓迎します。</p>
    </section>

    <div class="grid">
      <section id="members">
        <h2>メンバー</h2>
        <p>
          研究室には現在、博士後期課程4名、博士前期課程3名、学部4回生2名、3回生3名が在籍しています。<br>
          それぞれ自分の関心を深め、実証分析の技術を学びながら社会課題にアプローチしています。
        </p>
        <p>
          また、学外の客員研究員も4名所属しています。<br>
          各メンバーの研究テーマは<strong><a href="/members.html">メンバーページ</a></strong>をご覧ください。
        </p>

        <h2 id="blog">研究室ブログ（Note）</h2>
        <div id="rss-feed">
          <p>読み込み中...</p>
        </div>
        <p class="muted">※Noteの最新記事を即時反映（画像は表示されません）</p>
        <p style="text-align:right;">
          <a href="https://note.com/tanakak_lab" target="_blank" rel="noopener">→ すべての投稿を見る</a>
        </p>
      </section>

      <aside id="contact">
        <h2>連絡先</h2>
        <p>
          滋賀大学 環境総合研究センター<br> 
          田中勝也研究室<br>
          〒522-8522 滋賀県彦根市馬場1-1-1<br>
          Email: tanakak [at] biwako.shiga-u.ac.jp
        </p>
      </aside>
    </div>
  </main>

  <footer>
    © 2025 Tanaka Laboratory. All rights reserved.
  </footer>

  <script>
    const feedUrl = "https://note.com/tanakak_lab/rss";
    const proxyUrl = "https://api.allorigins.win/get?url=" + encodeURIComponent(feedUrl);

    fetch(proxyUrl)
      .then(res => res.json())
      .then(data => {
        const parser = new DOMParser();
        const xml = parser.parseFromString(data.contents, "text/xml");
        const items = xml.querySelectorAll("item");
        const container = document.getElementById("rss-feed");
        container.innerHTML = "<ul></ul>";
        const list = container.querySelector("ul");

        items.forEach((item, index) => {
          if (index >= 5) return;
          const title = item.querySelector("title").textContent;
          const link = item.querySelector("link").textContent;
          const pubDate = new Date(item.querySelector("pubDate").textContent).toLocaleDateString();
          const descHTML = item.querySelector("description").textContent;
          const descText = descHTML.replace(/<[^>]+>/g, "").trim().slice(0, 60);

          const li = document.createElement("li");
          li.innerHTML = `<strong>📌 ${pubDate}</strong>　<a href="${link}" target="_blank" rel="noopener">${title}</a><br><span class="muted">　${descText}...</span>`;
          list.appendChild(li);
        });
      })
      .catch(err => {
        document.getElementById("rss-feed").innerHTML = "<p>ブログの読み込みに失敗しました。</p>";
        console.error("RSS読み込みエラー:", err);
      });
  </script>
</body>
</html>
